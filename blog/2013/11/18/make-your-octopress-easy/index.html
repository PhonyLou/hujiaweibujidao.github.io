
<!DOCTYPE HTML>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
  <title>Hujiawei Bujidao</title>

  <meta name="author" content="hujiawei">
  
  <meta name="description" content="Make Your Octopress Easy Nov 18th, 2013 刚刚来到Octopress的世界，我的新鲜感依旧还在，呵呵，上午写了几个shell脚本让你在Octopress上写博客更加轻松些，至少让我轻松了很多，哈哈哈。 我特别头疼于类似新建文章new_post[" &hellip;">
  
  

  <link rel="canonical" href="http://hujiaweibujidao.github.io/blog/2013/11/18/make-your-octopress-easy">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Hujiawei Bujidao" type="application/atom+xml">
</head>
  
<body class="default">
  <div id="wrapper">
    <div id="header">
  <h1><a href="/">Hujiawei Bujidao</a></h1>
  
    <p>I will always be your savior! A secret makes a man man!</p>
  
</div>
<ul id="social-links">
  
    <li><a class="feed" href="/atom.xml" title="RSS">RSS</a></li>
  
  
  
</ul>
<div class="clear"></div>
<ul id="nav">
  
    <li> <a href="/">blog</a> </li>
  

  
    <li><a href="/blog/archives">archives</a></li>
  
</ul>

    <div id="main"> <div class="post-header">
  
    <h1 class="post-title">Make Your Octopress Easy</h1>
  
  








  


<time datetime="2013-11-18T13:11:00+08:00" pubdate data-updated="true">Nov 18<span>th</span>, 2013</time>
</div>

<div class="post-content"><p>刚刚来到Octopress的世界，我的新鲜感依旧还在，呵呵，上午写了几个<code>shell</code>脚本让你在Octopress上写博客更加轻松些，至少让我轻松了很多，哈哈哈。</p>

<p>我特别头疼于类似新建文章<code>new_post["postname"]</code>这些个命令，那个下划线可能会记成短破折线，时间长了我可能就不记得这个命令了，当然，如果你是ruby开发者那就肯定不会这样啦，我这年龄大了，记忆力不行了，很难记住那么多的命令啦，还有就是我希望只要打开Terminal就可以调用这些命令，而不用每次切换目录，而且每次我新建了一个文章之后，Mou能够直接启动并打开这个新建的文章让我编辑，想想，这个世界是不是美好多了？哈哈哈</p>

<p>操作步骤：</p>

<h4>[1]新建环境变量<code>OCTOPRESS_HOME</code>，它是你的octopress的根目录，并添加到<code>PATH</code>中</h4>

<p>[下面是我在Mac上的操作，其他系统自行修改]</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo nano ~/.bash_profile  #打开并修改.bash_profile文件，下面两行是在该文件中的修改
</span><span class='line'>export OCTOPRESS_HOME=/Users/hujiawei/git/octopress  #添加OCTOPRESS_HOME变量
</span><span class='line'>export PATH=${PATH}:${OCTOPRESS_HOME}  #添加到path中
</span><span class='line'>source ~/.bash_profile  
</span><span class='line'>echo $OCTOPRESS_HOME  #验证是否变量存在
</span><span class='line'>echo $PATH  #验证path是否设置成功</span></code></pre></td></tr></table></div></figure>


<h4>[2]编写几个<code>shell</code>脚本，放在<code>OCTOPRESS_HOME</code>目录下，作用分别如下：</h4>

<ul>
<li>gen：等价于<code>rake generate</code>操作</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#! /bin/bash
</span><span class='line'>path=$OCTOPRESS_HOME
</span><span class='line'>cd "$path"
</span><span class='line'>#pwd
</span><span class='line'>rake generate
</span><span class='line'>echo "generate ok"</span></code></pre></td></tr></table></div></figure>


<ul>
<li>dep：等价于<code>rake deploy</code>操作</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#! /bin/bash
</span><span class='line'>path=$OCTOPRESS_HOME
</span><span class='line'>cd "$path"
</span><span class='line'>#pwd
</span><span class='line'>rake generate
</span><span class='line'>rake deploy
</span><span class='line'>echo "generate and deploy ok"</span></code></pre></td></tr></table></div></figure>


<ul>
<li>pre：等价于<code>rake preview</code>操作</li>
</ul>


<p>[注意，这里我是在子线程中启动预览的，所以你按下了Ctrl+C会也不会把预览给终止了，是不是瞬间又感觉这个世界又美好了很多啊，哈哈]</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#! /bin/bash
</span><span class='line'>path=$OCTOPRESS_HOME
</span><span class='line'>cd "$path"
</span><span class='line'>#pwd
</span><span class='line'>#rake watch
</span><span class='line'>rake preview &
</span><span class='line'>#echo "watch and preview ok"</span></code></pre></td></tr></table></div></figure>


<ul>
<li>gmit：等价于<code>git add/commit/push</code>几个操作的组合</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#! /bin/bash
</span><span class='line'>if [ $# -ne 1 ]
</span><span class='line'>then
</span><span class='line'>    echo "Usage - gmit  message"
</span><span class='line'>    exit 1
</span><span class='line'>fi
</span><span class='line'>path=$OCTOPRESS_HOME
</span><span class='line'>cd "$path"
</span><span class='line'>#pwd
</span><span class='line'>git add .
</span><span class='line'>git commit -m "$1"
</span><span class='line'>git push origin source
</span><span class='line'>echo "git commit and push ok"</span></code></pre></td></tr></table></div></figure>


<ul>
<li>newpost：等价于<code>new_post[""] + open Mou</code>操作组合</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#! /bin/bash
</span><span class='line'>if [ $# -ne 1 ]
</span><span class='line'>then
</span><span class='line'>    echo "Usage -newpost  postname"
</span><span class='line'>    exit 1
</span><span class='line'>fi
</span><span class='line'>path=$OCTOPRESS_HOME
</span><span class='line'>cd "$path"
</span><span class='line'>#pwd
</span><span class='line'>filepath=`rake new_post["$1"]`
</span><span class='line'>#echo "$filepath"
</span><span class='line'>#Creating new post: source/_posts/2013-11-18-test5.markdown
</span><span class='line'>OLD_IFS="$IFS"
</span><span class='line'>IFS=" "
</span><span class='line'>arr=($filepath)
</span><span class='line'>filepath=${arr[3]}
</span><span class='line'>IFS="$OLD_IFS"
</span><span class='line'>postpath="$path/$filepath"
</span><span class='line'>#echo "$postpath"
</span><span class='line'>#open Mou with the file
</span><span class='line'>open -a Mou $postpath</span></code></pre></td></tr></table></div></figure>


<ul>
<li>newpage：等价于<code>new_page[""] + open Mou</code>操作组合</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#! /bin/bash
</span><span class='line'>if [ $# -ne 1 ]
</span><span class='line'>then
</span><span class='line'>    echo "Usage - newpage  pagename"
</span><span class='line'>    exit 1
</span><span class='line'>fi
</span><span class='line'>path=$OCTOPRESS_HOME
</span><span class='line'>cd "$path"
</span><span class='line'>echo "$path"
</span><span class='line'>filepath=`rake new_page["$1"]`
</span><span class='line'>echo "$filepath"
</span><span class='line'>#Creating new page: source/projects/index.markdown
</span><span class='line'>OLD_IFS="$IFS"
</span><span class='line'>IFS=" "
</span><span class='line'>arr=($filepath)
</span><span class='line'>filepath=${arr[3]}
</span><span class='line'>IFS="$OLD_IFS"
</span><span class='line'>postpath="$path/$filepath"
</span><span class='line'>echo "$postpath"
</span><span class='line'>#open Mou with the file
</span><span class='line'>open -a Mou $postpath</span></code></pre></td></tr></table></div></figure>


<h4>[3]使用<code>chmod 777 xxx</code>修改脚本的权限，测试执行下</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd $OCTOPRESS_HOME
</span><span class='line'>chmod 777 gen  #其他文件类似
</span><span class='line'>chmod 777 pre
</span><span class='line'>chmod 777 dep
</span><span class='line'>chmod 777 gmit
</span><span class='line'>chmod 777 newpost
</span><span class='line'>chmod 777 newpage
</span><span class='line'>gen
</span><span class='line'>newpost "test new post" #当这条命令完成生成了Markdown文件之后，你会发现Mou闪电般的将文件打开了，等着你输入呢！</span></code></pre></td></tr></table></div></figure>


<p>OK！Enjoy the world of Octopress！</p>

<p class='post-footer'>
                        Original link:<a href='http://hujiaweibujidao.github.io/blog/2013/11/18/make-your-octopress-easy/'>http://hujiaweibujidao.github.io/blog/2013/11/18/make-your-octopress-easy/</a><br/>Written by <a href='http://hujiaweibujidao.github.io'>hujiawei</a>&nbsp;Posted at <a href='http://hujiaweibujidao.github.io'>http://hujiaweibujidao.github.io</a><br/>Feel free to read or comment it, and if you want to copy it into your own site, please copy it with its Original Link showed above or you can see the license below for more details.<br />Thanks a lot. Hope you enjoy here! ^_^</p>

</div>


<div class="post-single">
  <div class="post-meta">
    

<span class="categories">
  Categories:
  
    <a class='category' href='/blog/categories/octopress/'>octopress</a>
  
</span>


    
      <div class="sharing">
  
  
  
</div>

    
  </div>
  <div class="clear"></div>

  
</div>
 </div>
    <div id="footer">
  <div class="panels">
    <div class="license">
      <h2>License</h2>
      <p>如非特别声明，本 Blog 的文章由 hujiawei 创作，采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">知识共享署名-非商业性使用-相同方式共享 3.0 Unported 许可协议</a>进行许可。</p>
    </div>

    <div class="posts">
      <h2>Recent Posts</h2>
      <ul>
        
          <li>
            <a href="/blog/2014/04/24/calculus-summary/">Calculus Summary</a>
          </li>
        
          <li>
            <a href="/blog/2014/04/23/numerical-methods-using-matlab/">Numerical Methods using Matlab</a>
          </li>
        
          <li>
            <a href="/blog/2014/04/22/probability-and-statistics-summary/">probability and statistics summary</a>
          </li>
        
          <li>
            <a href="/blog/2014/04/15/flying-on-mac/">Flying on Mac</a>
          </li>
        
          <li>
            <a href="/blog/2014/04/13/vertext-cover-problem/">Vertext Cover Problem</a>
          </li>
        
      </ul>
    </div>

    <div class="douban">
      <h2>Reading</h2>
      
        <p>Please set your Douban ID in _config.yml</p>
      
    </div>
  </div>

  <p class="powered">
    Powered by <a href="http://octopress.org">Octopress</a> and <a href="https://github.com/iwinux/compbits">Compbits</a>
  </p>
</div>

  </div> <!-- #wrapper end -->

  

  


  

  

  

</body>
</html>
